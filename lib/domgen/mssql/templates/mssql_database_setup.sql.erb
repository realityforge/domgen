/* DO NOT EDIT: File is auto-generated */
DECLARE @dbName VARCHAR(100)
SET @dbName=db_name()
EXEC('ALTER DATABASE [' + @dbName + '] COLLATE SQL_Latin1_General_CP1_CS_AS')
EXEC('ALTER DATABASE [' + @dbName + '] SET CURSOR_DEFAULT LOCAL')
EXEC('ALTER DATABASE [' + @dbName + '] SET CURSOR_CLOSE_ON_COMMIT ON')
EXEC('ALTER DATABASE [' + @dbName + '] SET AUTO_CREATE_STATISTICS ON')
EXEC('ALTER DATABASE [' + @dbName + '] SET AUTO_UPDATE_STATISTICS ON')
EXEC('ALTER DATABASE [' + @dbName + '] SET AUTO_UPDATE_STATISTICS_ASYNC ON')
EXEC('ALTER DATABASE [' + @dbName + '] SET ANSI_NULL_DEFAULT ON')
EXEC('ALTER DATABASE [' + @dbName + '] SET ANSI_NULLS ON')
EXEC('ALTER DATABASE [' + @dbName + '] SET ANSI_PADDING ON')
EXEC('ALTER DATABASE [' + @dbName + '] SET ANSI_WARNINGS ON')
EXEC('ALTER DATABASE [' + @dbName + '] SET ARITHABORT ON')
EXEC('ALTER DATABASE [' + @dbName + '] SET CONCAT_NULL_YIELDS_NULL ON')
EXEC('ALTER DATABASE [' + @dbName + '] SET QUOTED_IDENTIFIER ON')
-- NUMERIC_ROUNDABORT OFF is required for filtered indexes. The optimizer will also
-- not consider indexed views if the setting is not set.
EXEC('ALTER DATABASE [' + @dbName + '] SET NUMERIC_ROUNDABORT OFF')
EXEC('ALTER DATABASE [' + @dbName + '] SET RECURSIVE_TRIGGERS ON')
<% if repository.mssql.trustworthy? -%>
-- Database needed to be marked as trusted but AWS does not allow this so we guard against it.
IF NOT EXISTS( SELECT database_id FROM master.sys.databases WHERE name = 'rdsadmin' )
BEGIN
  EXEC('ALTER DATABASE [' + @dbName + '] SET TRUSTWORTHY ON')
END
<% end -%>
