/* DO NOT EDIT: File is auto-generated */
package <%= to_package(struct.gwt.qualified_factory_name) %>;

@javax.annotation.Generated( "Domgen" )
@edu.umd.cs.findbugs.annotations.SuppressFBWarnings({"BC_UNCONFIRMED_CAST"})
@java.lang.SuppressWarnings( { "UnusedDeclaration", "JavaDoc" } )
public final class <%= struct.gwt.factory_name %>
{
  private <%= struct.gwt.factory_name %>()
  {
  }

  public static <%= struct.gwt.qualified_interface_name %> create( <%= struct.fields.collect {|field| "#{annotated_type(field, :gwt, :boundary, :final => true) } #{field.name}" }.join(', ') %> )
  {
    <% params = struct.fields.collect { |field| field.name }.join(', ') %>
    if( com.google.gwt.core.shared.GWT.isClient() )
    {
      return <%= struct.gwt.jso_name %>.create( <%= params %> );
    }
    else
    {
      return new <%= struct.gwt.java_name %>( <%= params %> );
    }
  }

<% if struct.top_level? %>
  public static <%= struct.gwt.qualified_interface_name %> as<%= struct.name %>( final String json )
  {
    if( com.google.gwt.core.shared.GWT.isClient() )
    {
      return <%= struct.gwt.jso_name %>.as<%= struct.name %>( json );
    }
    else
    {
      throw new UnsupportedOperationException();
    }
  }

  public static String asJson( final <%= struct.gwt.qualified_interface_name %> entity )
  {
    if( com.google.gwt.core.shared.GWT.isClient() )
    {
      return new com.google.gwt.json.client.JSONObject( (<%= struct.gwt.jso_name %>) entity ).toString();
    }
    else
    {
      throw new UnsupportedOperationException();
    }
  }
<% end
%>
}
