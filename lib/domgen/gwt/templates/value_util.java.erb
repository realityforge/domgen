/* DO NOT EDIT: File is auto-generated */
package <%= to_package(repository.gwt.qualified_value_util_name) %>;

@java.lang.SuppressWarnings( { "UnusedDeclaration", "JavaDoc", "NonJREEmulationClassesInClientCode" } )
public final class <%= repository.gwt.value_util_name %>
{
  @javax.annotation.Nonnull
  private static final String CHARS = "abcdefghijklmnopqrstuvwxyz0123456789";
  @javax.annotation.Nonnull
  private static final java.util.Random c_random = new java.util.Random();
  private static int c_currentId;
  @javax.annotation.Nullable
  private static java.util.Date c_now;
  private static int c_seed;

  private ValueUtil()
  {
  }

  public static int randomInt()
  {
    return getRandom().nextInt();
  }

  public static boolean randomBoolean()
  {
    return getRandom().nextBoolean();
  }

  @javax.annotation.Nonnull
  public static java.util.Random getRandom()
  {
    return c_random;
  }

  public static void reset()
  {
    c_now = null;
    c_currentId = 0;
    if ( 0 != c_seed )
    {
      c_random.setSeed( c_seed );
    }
  }

  public static int nextId()
  {
    c_currentId++;
    return c_currentId;
  }

  @javax.annotation.Nonnull
  public static java.util.Date now()
  {
    return null != c_now ? c_now : new java.util.Date();
  }

  @javax.annotation.Nullable
  public static String randomNullableString()
  {
    return randomBoolean() ? randomString() : null;
  }

  @javax.annotation.Nonnull
  public static String randomString()
  {
    return randomString( 12 );
  }

  @javax.annotation.Nonnull
  public static String randomString( final int stringLength )
  {
    final StringBuilder sb = new StringBuilder( stringLength );
    for ( int i = 0; i < stringLength; i++ )
    {
      sb.append( CHARS.charAt( Math.abs( randomInt() % CHARS.length() ) ) );
    }
    return sb.toString();
  }

  public static void setNow( @javax.annotation.Nonnull final java.util.Date now )
  {
    c_now = now;
  }

  public static void setSeed( final int seed )
  {
    c_seed = seed;
  }

  /**
   * Current time as a calendar.
   */
  @javax.annotation.Nonnull
  public static java.util.Calendar nowAsCalendar()
  {
    final java.util.Calendar calendar = java.util.Calendar.getInstance();
    calendar.setTimeZone( java.util.TimeZone.getTimeZone( "Australia/Melbourne" ) );
    calendar.setTime( now() );
    return calendar;
  }

  @javax.annotation.Nonnull
  public static java.util.Date today()
  {
    final java.util.Calendar calendar = nowAsCalendar();
    calendar.set( java.util.Calendar.HOUR_OF_DAY, 0 );
    calendar.set( java.util.Calendar.MINUTE, 0 );
    calendar.set( java.util.Calendar.SECOND, 0 );
    calendar.set( java.util.Calendar.MILLISECOND, 0 );
    return calendar.getTime();
  }

  @javax.annotation.Nonnull
  public static java.util.Date tomorrow()
  {
    return addDays( today(), 1 );
  }

  @javax.annotation.Nonnull
  public static java.util.Date yesterday()
  {
    return addDays( today(), -1 );
  }

  @javax.annotation.Nonnull
  public static java.util.Date addDays( @javax.annotation.Nonnull final java.util.Date time, final int dayCount )
  {
    final java.util.Calendar cal = java.util.Calendar.getInstance();
    cal.setTimeZone( java.util.TimeZone.getTimeZone( "Australia/Melbourne" ) );
    cal.setTime( time );
    cal.add( java.util.Calendar.DAY_OF_YEAR, dayCount );
    return cal.getTime();
  }

  @javax.annotation.Nonnull
  public static java.util.Date minusDays( @javax.annotation.Nonnull final java.util.Date time, final int count )
  {
    return addDays( time, -count );
  }

  @javax.annotation.Nonnull
  public static java.util.Date addMonths( @javax.annotation.Nonnull final java.util.Date time, final int monthCount )
  {
    final java.util.Calendar cal = java.util.Calendar.getInstance();
    cal.setTimeZone( java.util.TimeZone.getTimeZone( "Australia/Melbourne" ) );
    cal.setTime( time );
    cal.add( java.util.Calendar.MONTH, monthCount );
    return cal.getTime();
  }

  @javax.annotation.Nonnull
  public static java.util.Date minusMonths( @javax.annotation.Nonnull final java.util.Date time, final int count )
  {
    return addMonths( time, -count );
  }

  @javax.annotation.Nonnull
  public static java.util.Date addHours( @javax.annotation.Nonnull final java.util.Date time, final int count )
  {
    final java.util.Calendar cal = java.util.Calendar.getInstance();
    cal.setTimeZone( java.util.TimeZone.getTimeZone( "Australia/Melbourne" ) );
    cal.setTime( time );
    cal.add( java.util.Calendar.HOUR, count );
    return cal.getTime();
  }

  @javax.annotation.Nonnull
  public static java.util.Date minusHours( @javax.annotation.Nonnull final java.util.Date time, final int count )
  {
    return addHours( time, -count );
  }

  @javax.annotation.Nonnull
  public static java.util.Date addMinutes( @javax.annotation.Nonnull final java.util.Date time, final int count )
  {
    final java.util.Calendar cal = java.util.Calendar.getInstance();
    cal.setTimeZone( java.util.TimeZone.getTimeZone( "Australia/Melbourne" ) );
    cal.setTime( time );
    cal.add( java.util.Calendar.MINUTE, count );
    return cal.getTime();
  }

  @javax.annotation.Nonnull
  public static java.util.Date minusMinutes( @javax.annotation.Nonnull final java.util.Date time, final int count )
  {
    return addMonths( time, -count );
  }

  @javax.annotation.Nonnull
  public static java.util.Date addSeconds( @javax.annotation.Nonnull final java.util.Date time, final int count )
  {
    final java.util.Calendar cal = java.util.Calendar.getInstance();
    cal.setTimeZone( java.util.TimeZone.getTimeZone( "Australia/Melbourne" ) );
    cal.setTime( time );
    cal.add( java.util.Calendar.SECOND, count );
    return cal.getTime();
  }

  @javax.annotation.Nonnull
  public static java.util.Date minusSeconds( @javax.annotation.Nonnull final java.util.Date time, final int count )
  {
    return addSeconds( time, -count );
  }
}
